# Implementation Plan - Epoch 34 Phase 1: Infrastructure (Lightning CSS)

## Goal

Replace fragile, ad-hoc CSS build scripts with **Lightning CSS** to provide a robust, minified, and bundled CSS artifact for the NPM package.

## Context

- **Current State**: The project relies on raw CSS files (`engine.css`, `utilities.css`, `theme.css`) and dead scripts (`scripts/update-docs.sh`) that use `cat`. The NPM package exports these files individually, requiring consumers to import multiple files.
- **Desired State**: The NPM package should export a single, optimized `style.css` bundle (in addition to the individual files) generated by a standard build tool.
- **Axiom Alignment**: "Standard CSS First". We use Lightning CSS only for bundling and optimization (minification), not for non-standard syntax.

## Tasks

### 1. Cleanup Dead Code

- [ ] Delete `scripts/update-docs.sh` (references deleted `docs/guide` directory).

### 2. Infrastructure Setup

- [ ] Install `lightningcss` (Node API) as a dev dependency.
- [ ] Create `scripts/build-css.ts` to handle CSS bundling.
  - **Input**: A virtual entry point importing `engine.css`, `utilities.css`, and `theme.css`.
  - **Output**: `dist/style.css` (bundled & minified).
  - **Configuration**: Enable minification, set browser targets (defaults).

### 3. Package Integration

- [ ] Update `package.json` scripts:
  - Add `build:css` to run `scripts/build-css.ts`.
  - Update `build` to include `build:css`.
- [ ] Update `package.json` exports:
  - Add `./style.css` pointing to `./dist/style.css`.

### 4. Verification

- [ ] Verify `dist/style.css` is generated and contains all expected CSS.
- [ ] Verify `publint` passes with the new export.
- [ ] Verify the documentation site still builds (it uses individual files, which is fine, but we should ensure we haven't broken the source files).

## Outcome

A professional, optimized CSS bundle for the `@axiomatic-design/color` package, ready for consumption by any web project.
