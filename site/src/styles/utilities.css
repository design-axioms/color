/*
   BASELINE 2025: UTILITIES
   Configuration Providers.
*/

:root {
  /* Missing Text Tokens */
  --text-strong-token: light-dark(oklch(0.1935 0 0), oklch(0.9866 0 0));
  --text-token: var(--axm-text-high-token);
}

/* --- STATUS SURFACES --- */
/* Surface definitions are now auto-generated in generated-tokens.css */

/* --- SURFACES --- */
/* Surface definitions are now auto-generated in generated-tokens.css */

/* --- SEMANTIC HUES --- */
/* Hue utilities are now auto-generated from keyColors */

/* --- BORDERS --- */

.bordered {
  /* Default to decorative border from context */
  --computed-border-color: var(--computed-border-dec-color);
}

.border-interactive {
  /* Override for interactive borders from context */
  --computed-border-color: var(--computed-border-int-color);
}

/* --- MODIFIERS --- */

/* Elevation */
.shadow-sm {
  box-shadow: var(--axm-shadow-sm);
}
.shadow-md {
  box-shadow: var(--axm-shadow-md);
}
.shadow-lg {
  box-shadow: var(--axm-shadow-lg);
}
.shadow-xl {
  box-shadow: var(--axm-shadow-xl);
}

/* Focus */
.focus-ring:focus-visible {
  outline: 2px solid var(--axm-focus-ring-color);
  outline-offset: 2px;
}

/* Hue Adjustments */
/* .hue-{name} classes are auto-generated from keyColors */

/* Text Lightness Overrides */
.text-strong {
  /* No-op, resets to default for the surface */
}

.text-subtle {
  /* Apply computed chroma/hue to the subtle token */
  color: oklch(
    from var(--axm-text-subtle-token) l var(--computed-fg-C)
      var(--computed-fg-H)
  );
}

.text-subtler {
  /* Apply computed chroma/hue to the subtlest token */
  color: oklch(
    from var(--axm-text-subtlest-token) l var(--computed-fg-C)
      var(--computed-fg-H)
  );
}

.text-link {
  /* Links use the brand hue by default */
  color: oklch(from var(--computed-fg-color) l c var(--axm-hue-brand));
  text-decoration: underline;
  cursor: pointer;
}

/* --- TYPOGRAPHY --- */

.font-mono {
  font-family: var(--font-mono-token);
}

.font-sans {
  font-family: var(--font-sans-token, system-ui, sans-serif);
}

/* --- STATES --- */

.state-disabled,
[disabled] {
  opacity: 0.5;
  pointer-events: none;
  /* Desaturate */
  filter: grayscale(1);
}

.state-selected,
[aria-selected="true"] {
  /* Selected state uses brand background */
  background-color: oklch(
    from var(--computed-surface) l c var(--axm-hue-brand)
  );
  /* Ensure text contrast on brand background might need adjustment, 
     but for now let's assume the lightness shift is handled by the surface logic 
     if we were to make this a full surface. 
     Since it's a modifier, we might need a specific token. 
     For Phase 1, let's keep it simple: Brand Border + Background Tint */
  border-color: oklch(from var(--computed-fg-color) l c var(--axm-hue-brand));
  background-color: oklch(
    from var(--computed-surface) l 0.05 var(--axm-hue-brand)
  );
}

/* Surface Adjustments */
.surface-vibrant {
  --surface-chroma-adjust: 0.02;
}

.surface-glass {
  backdrop-filter: blur(10px);
  background-color: oklch(from var(--computed-surface) l c h / 0.7) !important;
}

.hue-monochrome {
  --base-chroma: 0;
}

/* Content Overrides */
.fg-vibrant {
  --override-fg-chroma: 0.15;
}
