{"version":3,"sources":["../../src/cli/default-config.ts","../../src/cli/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import type { SolverConfig } from \"../lib/types.ts\";\n\nexport const DEFAULT_CONFIG: SolverConfig = {\n  anchors: {\n    page: {\n      light: {\n        start: { background: 1 },\n        end: { adjustable: true, background: 0.9 },\n      },\n      dark: {\n        start: { background: 0.1 },\n        end: { adjustable: true, background: 0.4 },\n      },\n    },\n    inverted: {\n      light: {\n        start: { adjustable: true, background: 0.1 },\n        end: { background: 0 },\n      },\n      dark: {\n        start: { adjustable: true, background: 0.9 },\n        end: { background: 1 },\n      },\n    },\n    keyColors: {\n      brand: \"#6e56cf\",\n    },\n  },\n  hueShift: {\n    curve: { p1: [0.5, 0], p2: [0.5, 1] },\n    maxRotation: 5,\n  },\n  borderTargets: {\n    decorative: 10,\n    interactive: 30,\n    critical: 80,\n  },\n  groups: [\n    {\n      name: \"Base\",\n      surfaces: [\n        {\n          slug: \"page\",\n          label: \"Surface Page\",\n          description: \"The base background of the application.\",\n          polarity: \"page\",\n        },\n        {\n          slug: \"workspace\",\n          label: \"Surface Workspace\",\n          description:\n            \"A very light elevated surface, used for the main workspace area.\",\n          polarity: \"page\",\n        },\n      ],\n    },\n    {\n      name: \"Content\",\n      surfaces: [\n        {\n          slug: \"card\",\n          label: \"Surface Card\",\n          description: \"A card-like element.\",\n          polarity: \"page\",\n          contrastOffset: { light: 15, dark: 15 },\n          states: [\n            { name: \"hover\", offset: -5 },\n            { name: \"active\", offset: -10 },\n          ],\n        },\n        {\n          slug: \"action\",\n          label: \"Surface Action\",\n          description: \"A clickable action surface (e.g. button).\",\n          polarity: \"page\",\n          contrastOffset: { light: 25, dark: 25 },\n          states: [\n            { name: \"hover\", offset: -5 },\n            { name: \"active\", offset: -10 },\n          ],\n        },\n      ],\n    },\n    {\n      name: \"Spotlight\",\n      surfaces: [\n        {\n          slug: \"spotlight\",\n          label: \"Surface Spotlight\",\n          description: \"The darkest surface.\",\n          polarity: \"inverted\",\n        },\n      ],\n    },\n  ],\n};\n","#!/usr/bin/env node\nimport { existsSync, readFileSync, writeFileSync } from \"node:fs\";\nimport { join, resolve } from \"node:path\";\nimport { generateTokensCss } from \"../lib/generator.ts\";\nimport { getKeyColorStats, solve } from \"../lib/index.ts\";\nimport type { SolverConfig } from \"../lib/types.ts\";\nimport { DEFAULT_CONFIG } from \"./default-config.ts\";\n\nconst args = process.argv.slice(2);\nconst CWD = process.cwd();\n\nif (import.meta.main) {\n  if (args[0] === \"init\") {\n    const targetPath = join(CWD, \"color-config.json\");\n    if (existsSync(targetPath)) {\n      console.error(\"Error: color-config.json already exists.\");\n      process.exit(1);\n    }\n    writeFileSync(targetPath, JSON.stringify(DEFAULT_CONFIG, null, 2));\n    console.log(\"Created color-config.json\");\n    console.log(\"Run `color-system` to generate your theme.\");\n    process.exit(0);\n  }\n\n  const CONFIG_PATH = args[0]\n    ? resolve(CWD, args[0])\n    : join(CWD, \"color-config.json\");\n\n  const BASE_CSS_PATH = args[1]\n    ? resolve(CWD, args[1])\n    : join(CWD, \"theme.css\");\n\n  if (!args[0] && !args[1]) {\n    // Check if default config exists, if not, warn\n    try {\n      readFileSync(CONFIG_PATH);\n    } catch {\n      console.error(\n        \"No config file found at default location: ./color-config.json\"\n      );\n      console.error(\"Usage: color-system [config-file] [output-file]\");\n      console.error(\"   or: color-system init\");\n      process.exit(1);\n    }\n  }\n\n  console.log(\"Reading config from:\", CONFIG_PATH);\n  const config = JSON.parse(readFileSync(CONFIG_PATH, \"utf8\")) as SolverConfig;\n\n  console.log(\"Solving surfaces...\");\n  const { backgrounds } = solve(config);\n\n  console.log(\"Generating CSS...\");\n  let css = generateTokensCss(\n    config.groups,\n    backgrounds,\n    config.hueShift,\n    config.borderTargets\n  );\n\n  const stats = getKeyColorStats(config.anchors.keyColors);\n  if (stats.chroma !== undefined || stats.hue !== undefined) {\n    const vars: string[] = [];\n    if (stats.chroma !== undefined)\n      vars.push(`  --chroma-brand: ${stats.chroma};`);\n    if (stats.hue !== undefined) vars.push(`  --hue-brand: ${stats.hue};`);\n\n    if (vars.length > 0) {\n      css = `:root {\\n${vars.join(\"\\n\")}\\n}\\n\\n` + css;\n    }\n  }\n\n  console.log(\"Writing CSS to:\", BASE_CSS_PATH);\n  writeFileSync(BASE_CSS_PATH, css);\n  console.log(\"Done!\");\n}\n"]}